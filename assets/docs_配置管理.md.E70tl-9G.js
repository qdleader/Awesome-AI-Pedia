import{_ as a,o as i,c as n,ag as e}from"./chunks/framework.D7ooTGWA.js";const o=JSON.parse('{"title":"配置管理指南","description":"","frontmatter":{},"headers":[],"relativePath":"docs/配置管理.md","filePath":"docs/配置管理.md","lastUpdated":1770184231000}'),l={name:"docs/配置管理.md"};function p(t,s,h,r,d,k){return i(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="配置管理指南" tabindex="-1">配置管理指南 <a class="header-anchor" href="#配置管理指南" aria-label="Permalink to &quot;配置管理指南&quot;">​</a></h1><h2 id="问题说明" tabindex="-1">问题说明 <a class="header-anchor" href="#问题说明" aria-label="Permalink to &quot;问题说明&quot;">​</a></h2><p>每次添加新文件夹时，如果忘记更新配置文件，会导致网站出现 <strong>404错误</strong>。</p><p>这是因为项目使用了符号链接系统，需要在多个配置文件中同步更新。</p><h2 id="快速解决方案" tabindex="-1">快速解决方案 <a class="header-anchor" href="#快速解决方案" aria-label="Permalink to &quot;快速解决方案&quot;">​</a></h2><h3 id="_1-检查配置状态" tabindex="-1">1. 检查配置状态 <a class="header-anchor" href="#_1-检查配置状态" aria-label="Permalink to &quot;1. 检查配置状态&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check-config</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这会检测所有内容文件夹，并报告哪些文件夹缺少配置。</p><h3 id="_2-自动修复配置" tabindex="-1">2. 自动修复配置 <a class="header-anchor" href="#_2-自动修复配置" aria-label="Permalink to &quot;2. 自动修复配置&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix-config</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这会自动更新以下配置文件：</p><ul><li><code>scripts/copy-symlinks.js</code> - 添加新文件夹到符号链接映射</li><li><code>docs/.vitepress/utils/sidebar.ts</code> - 添加新文件夹到名称映射</li></ul><h3 id="_3-重新构建" tabindex="-1">3. 重新构建 <a class="header-anchor" href="#_3-重新构建" aria-label="Permalink to &quot;3. 重新构建&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="完整工作流程" tabindex="-1">完整工作流程 <a class="header-anchor" href="#完整工作流程" aria-label="Permalink to &quot;完整工作流程&quot;">​</a></h2><p>当你想添加新的内容文件夹时：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 在根目录创建新文件夹（例如：新文件夹）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 新文件夹</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 添加内容文件</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;# 欢迎&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 新文件夹/index.md</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 自动修复配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix-config</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4. 验证配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check-config</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5. 本地测试</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 6. 构建并部署</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feat: 添加新文件夹&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="配置文件说明" tabindex="-1">配置文件说明 <a class="header-anchor" href="#配置文件说明" aria-label="Permalink to &quot;配置文件说明&quot;">​</a></h2><h3 id="_1-scripts-copy-symlinks-js" tabindex="-1">1. <code>scripts/copy-symlinks.js</code> <a class="header-anchor" href="#_1-scripts-copy-symlinks-js" aria-label="Permalink to &quot;1. \`scripts/copy-symlinks.js\`&quot;">​</a></h3><p>在 <code>symlinkMap</code> 中配置文件夹映射：</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> symlinkMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;url-friendly-name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;实际文件夹名&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 例如：</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;bu-shu-ai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;部署ai&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>作用</strong>: 构建时将根目录的文件夹复制到 <code>docs/ai/</code> 下</p><h3 id="_2-docs-vitepress-utils-sidebar-ts" tabindex="-1">2. <code>docs/.vitepress/utils/sidebar.ts</code> <a class="header-anchor" href="#_2-docs-vitepress-utils-sidebar-ts" aria-label="Permalink to &quot;2. \`docs/.vitepress/utils/sidebar.ts\`&quot;">​</a></h3><h4 id="getdisplayname-显示名称映射" tabindex="-1"><code>getDisplayName()</code> - 显示名称映射 <a class="header-anchor" href="#getdisplayname-显示名称映射" aria-label="Permalink to &quot;\`getDisplayName()\` - 显示名称映射&quot;">​</a></h4><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nameMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;文件夹名&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;显示名称&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 例如：</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;部署ai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;部署AI&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="geturlfriendlyname-url友好名称" tabindex="-1"><code>getUrlFriendlyName()</code> - URL友好名称 <a class="header-anchor" href="#geturlfriendlyname-url友好名称" aria-label="Permalink to &quot;\`getUrlFriendlyName()\` - URL友好名称&quot;">​</a></h4><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> urlMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;实际文件夹名&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;url-friendly-name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 例如：</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;部署ai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bu-shu-ai&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>作用</strong>: 生成导航栏和侧边栏的链接</p><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="q-为什么需要配置多个文件" tabindex="-1">Q: 为什么需要配置多个文件？ <a class="header-anchor" href="#q-为什么需要配置多个文件" aria-label="Permalink to &quot;Q: 为什么需要配置多个文件？&quot;">​</a></h3><p>A: 项目设计采用了符号链接系统来组织内容，这样可以将不同主题的内容放在独立的文件夹中，便于管理。但代价是需要手动维护映射关系。</p><h3 id="q-忘记配置会怎样" tabindex="-1">Q: 忘记配置会怎样？ <a class="header-anchor" href="#q-忘记配置会怎样" aria-label="Permalink to &quot;Q: 忘记配置会怎样？&quot;">​</a></h3><p>A: 新文件夹的内容不会被复制到构建目录，导航栏虽然会显示该文件夹，但点击会出现404错误。</p><h3 id="q-如何快速诊断404问题" tabindex="-1">Q: 如何快速诊断404问题？ <a class="header-anchor" href="#q-如何快速诊断404问题" aria-label="Permalink to &quot;Q: 如何快速诊断404问题？&quot;">​</a></h3><p>A: 运行 <code>npm run check-config</code>，它会告诉你哪些文件夹缺少配置。</p><h3 id="q-可以手动配置吗" tabindex="-1">Q: 可以手动配置吗？ <a class="header-anchor" href="#q-可以手动配置吗" aria-label="Permalink to &quot;Q: 可以手动配置吗？&quot;">​</a></h3><p>A: 可以，但推荐使用 <code>npm run fix-config</code> 自动配置，避免遗漏和错误。</p><h2 id="技术细节" tabindex="-1">技术细节 <a class="header-anchor" href="#技术细节" aria-label="Permalink to &quot;技术细节&quot;">​</a></h2><h3 id="url命名规则" tabindex="-1">URL命名规则 <a class="header-anchor" href="#url命名规则" aria-label="Permalink to &quot;URL命名规则&quot;">​</a></h3><ul><li>中文目录名会被转换为拼音或英文</li><li>多个单词用连字符 <code>-</code> 连接</li><li>例如：<code>部署ai</code> → <code>bu-shu-ai</code></li></ul><h3 id="文件夹识别规则" tabindex="-1">文件夹识别规则 <a class="header-anchor" href="#文件夹识别规则" aria-label="Permalink to &quot;文件夹识别规则&quot;">​</a></h3><p>系统会自动识别根目录下的所有文件夹，除了以下排除目录：</p><ul><li><code>node_modules</code></li><li><code>docs</code></li><li><code>scripts</code></li><li><code>.git</code></li><li><code>.github</code></li><li><code>public</code></li><li><code>dist</code></li><li><code>.claude</code></li><li><code>.vscode</code></li></ul><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><ol><li><strong>添加新文件夹前</strong>: 先运行 <code>npm run check-config</code> 确保当前配置完整</li><li><strong>添加新文件夹后</strong>: 立即运行 <code>npm run fix-config</code> 更新配置</li><li><strong>提交代码前</strong>: 运行 <code>npm run build</code> 确保构建成功</li><li><strong>推送代码后</strong>: 检查 GitHub Actions 构建状态</li></ol><h2 id="脚本说明" tabindex="-1">脚本说明 <a class="header-anchor" href="#脚本说明" aria-label="Permalink to &quot;脚本说明&quot;">​</a></h2><ul><li><code>npm run check-config</code> - 检查配置完整性（不修改文件）</li><li><code>npm run fix-config</code> - 自动修复缺失的配置</li><li><code>npm run build</code> - 完整构建（包含符号链接处理）</li></ul>`,47)])])}const u=a(l,[["render",p]]);export{o as __pageData,u as default};
